<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>登录</title>

</head>
<body>
	<form action="">
		<div class="item-inner">
			用户名:<input id="username" type="text" />
		</div>
		<div class="item-inner">
			密码:<input id="password" type="password" />
		</div>
		<div>
			<input name="role" type="radio" id="role_1" value="1" />用户 
			<input name="role" type="radio" id="role_2" value="2" />教师 
			<input name="role" type="radio" id="role_3" value="3" />管理员
		</div>
		<div>
			<a href="#" class="button button-big button-fill" id="login">登陆</a>
		</div>
		<div>
			<a href="#" class="button button-big button-fill" id="register">注册</a>
		</div>
	</form>
	<script type="text/javascript"
		src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script type="text/javascript"
		src="https://cdn.bootcss.com/jquery-toast-plugin/1.3.2/jquery.toast.min.js	"></script>

	<!-- 
	<script type="text/javascript" src='../resources/js/local/login.js' charset='utf-8'></script>
	 -->
	<script type="text/javascript">
		$(function() {
			$('#register').click(function() {
				window.location.href = '/booth/user/toRegister';
			});
			$('#login').click(function() {
				var username = $('#username').val();
				var password = $('#password').val();
				var role = $('input:radio:checked').val();
				$.ajax({
					url : '/booth/user/login',
					async : false,
					cache : false,
					type : "post",
					dataType : 'json',
					data : {
						username : username,
						password : password,
						role : role
					},
					success : function(data) {
						if (data.success) {
							alert('登录成功!');
							if (role == "1") {
								window.location.href = '/booth/user/toUser';
							}
							if (role == "2") {
								window.location.href = '/booth/user/toTeacher';
							}
							if (role == "3") {
								window.location.href = '/booth/user/toAdmin';
							}
						} else {
							alert('登录失败!'+data.Messg)
						}
					}
				});
			});
		});
	</script>
</body>

</html>